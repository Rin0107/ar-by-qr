# memo

## 環境

- gpt-4o

## メモ

- 基本的には仕様定義書にしたがってくれているが、プロンプトルールは無視しやがる
- そのせいで結構トークンをつかってしまっている
- TPM(token per minute) にひっかかった
- プロンプトログファイル、利用料金ログファイルの用途を理解せず、アプリケーションコードからログを記録しようとした
  - メタ認知？が苦手なのか？
- .clinerulesを追加してみた
  - お、日本語で回答するようになった＝.clinerulesを読み取ってるっぽい

## 実行時メモ

- npx の実行でエラーが出た
  - apt install してないから
  - apt install してくれとRequestがきた！
  - 自分でnvmインストールした
  - npx でエラーがでて、その原因を推測してjest.config.js を作り出した！
  - 次はjest エラーがでた
    - Validation Error:
    - Test environment jest-environment-jsdom cannot be found. Make sure the testEnvironment configuration option points to an existing node module.
  - 勝手にnpm install 実行した...
  - テスト書いて実行して、通らなかったら修正して、を繰り返している
    - またTPMにひっかかった
  - どんどんインストールさせられる
    - またTPMにひっかかった
  - つぎはコミットしてくれなくなった
- .clinerules追加
- ずっとテストに失敗していた
  - console.logを書いてあげるとその出力をヒントにして直そうとしていたので、デバッグに関してはステップバイステップさせるのが良いのかもしれない
  - clinerules にステップバイステップでデバッグせよと書いたけど従わなかった
- !?clinerules を修正したら（f0f91e54bffd7c1c982fb186211e366195a25a58）急にclinerules を無視しだした
  - と思ったら次の新しいタスクでは従いだした
- 文法的におかしい（閉じかっこが足りないなど）の変更も提案したり、その直後に直したりと変な挙動がある
- clinerules以上に、プロンプトには遵守する感じがする
- プロンプトでプリントデバッグするよう指示したが、適切なプリントデバッグができていない
  - 無意味にテスト関数内に標準出力しているだけ（テストが通っていればそりゃ出力するよねってものばっかり）
  - 状態を出力するように、と追加指示したが、適切には動かず...。
- エラー内容の一行目（最も重要なスタックトレース）をchat-gpt に食わせれば解決できたが、cline 単体では無理だった
  - ついでに、スタックトレース全行ではchat-gpt も無理だった
